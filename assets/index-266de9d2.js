!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const e="219a015ee939448aa0f195825231010";let t=1;const n=async(t="Toronto")=>{const n=`https://api.weatherapi.com/v1/forecast.json?key=${e}&q=${t}&days=1&aqi=no&alerts=no`;try{const e=await fetch(n),t=await e.json();if(t.error)throw new Error(t.error.message);return t}catch(o){throw console.error(`Error fetching data for ${t}: ${o.message}`),o}};document.getElementById("weatherForm").addEventListener("submit",(async e=>{e.preventDefault(),document.getElementById("errorMsg").style.display="none",document.getElementById("loading").style.display="block";const o=document.getElementById("locationInput"),i=o.value.trim();if(!i)return document.getElementById("errorMsg").innerText="Please provide a location.",document.getElementById("errorMsg").style.display="block",void(document.getElementById("loading").style.display="none");try{const e=await n(i),o=a(e);d(o),t=1;const l=await c(i);r(l),s(i)}catch(l){document.getElementById("errorMsg").innerText=l,document.getElementById("errorMsg").style.display="block"}finally{document.getElementById("loading").style.display="none",o.value=""}})),window.addEventListener("load",(()=>{document.getElementById("locationInput").value=""})),document.getElementById("searchButton").addEventListener("click",(async()=>{const e=document.getElementById("locationInput").value.trim();if(!e)return document.getElementById("errorMsg").innerText="Please provide a location.",void(document.getElementById("errorMsg").style.display="block");o(e)}));const o=async e=>{if(document.getElementById("errorMsg").style.display="none",document.getElementById("loading").style.display="block",!e)return document.getElementById("errorMsg").innerText="Please provide a location.",document.getElementById("errorMsg").style.display="block",void(document.getElementById("loading").style.display="none");try{const o=await n(e),i=a(o);d(i),t=1;const l=await c(e);r(l),s(e)}catch(o){document.getElementById("errorMsg").innerText=o,document.getElementById("errorMsg").style.display="block"}finally{document.getElementById("loading").style.display="none",document.getElementById("locationInput").value=""}};window.addEventListener("load",(()=>{o("Toronto")})),document.getElementById("searchButton").addEventListener("click",(()=>{document.getElementById("locationInput").value=""}));const c=async t=>{try{const n=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=${e}&q=${t}&days=7&aqi=no&alerts=no`);if(!n.ok)throw new Error("Unable to fetch 7-day forecast data.");return(await n.json()).forecast.forecastday}catch(n){throw n}},r=e=>{const t=document.querySelector(".seven-day-forecast");t.innerHTML="",e.forEach((e=>{const n=document.createElement("div");n.classList.add("forecast-day");const o=new Date(e.date).toLocaleDateString("en-US",{weekday:"long"}),c=e.day.condition.icon,r=e.day.maxtemp_c,a=e.day.mintemp_c;n.innerHTML=`\n            <div class="forecast-day-icon">\n                <img src="${c}" alt="Weather Icon">\n            </div>\n            <div class="forecast-day-info">\n                <div class="forecast-day-name">${o}</div>\n                <div class="forecast-day-temp">${r}°C / ${a}°C</div>\n            </div>\n        `,t.appendChild(n)}))},a=e=>{const t=e.current,n=e.forecast.forecastday[0];return{location:`${e.location.name}`,temperature:t.temp_c,feelsLike:t.feelslike_c,uv:t.uv,description:t.condition.text,humidity:t.humidity,windSpeed:t.wind_kph,icon:t.condition.icon,daily_chance_of_rain:n.day.daily_chance_of_rain,daily_chance_of_snow:n.day.daily_chance_of_snow,hourly_forecast:n.hour}},d=e=>{document.getElementById("location").textContent=e.location,document.getElementById("temperature").textContent=`${e.temperature}°C`,document.getElementById("feelsLikeValue").textContent=`${e.feelsLike}°C`,document.getElementById("uvIndexValue").textContent=e.uv,document.getElementById("description").textContent=e.description,document.getElementById("humidityValue").textContent=`${e.humidity}%`,document.getElementById("windSpeedValue").textContent=`${e.windSpeed} kph`,document.getElementById("icon").setAttribute("src",e.icon),i(),l(e.hourly_forecast),document.getElementById("rainValue").textContent="",document.getElementById("snowValue").textContent=""},i=()=>{const e=new Date,t=e.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});let n=e.getHours();const o=e.getMinutes(),c=n>=12?"pm":"am";n%=12,n=n||12;const r=`${n}:${o<10?"0"+o:o}${c}`;document.getElementById("currentDate").textContent=`currentDate: ${t}`,document.getElementById("currentTime").textContent=`currentTime: ${r}`},l=e=>{const t=document.getElementById("hourlyForecast");t.innerHTML="";const n=new Date,o=n.getHours(),c=n.getMinutes();let r=o+1;c<1&&(r=o),e.forEach((e=>{const n=1e3*e.time_epoch,o=new Date(n).getHours();if(o>=r){const n=document.createElement("div");n.classList.add("hourly-forecast-item");const c=document.createElement("img");c.setAttribute("src",e.condition.icon),c.setAttribute("alt","Weather Icon");const a=`${o%12}:00 ${o>=12?"PM":"AM"}`,d=document.createElement("span");d.textContent=a;const i=document.createElement("span");i.textContent=`${e.temp_c}°C`,n.appendChild(c),n.appendChild(d),n.appendChild(i),t.appendChild(n),r++}}))};document.getElementById("forecast-content");const s=t=>{fetch(`https://api.weatherapi.com/v1/current.json?key=${e}&q=${t}`).then((e=>e.json())).then((e=>{const t=new Date(e.location.localtime),n=t.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});let o=t.getHours();const c=t.getMinutes(),r=o>=12?"pm":"am";o%=12,o=o||12;const a=`${o}:${c<10?"0"+c:c} ${r}`;document.getElementById("currentDate").textContent=`${n}`,document.getElementById("currentTime").textContent=`${a}`})).catch((e=>{console.error(`Error fetching date and time data for ${t}: ${e.message}`)}))};
//# sourceMappingURL=index-266de9d2.js.map
