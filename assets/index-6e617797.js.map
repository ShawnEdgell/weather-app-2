{"version":3,"file":"index-6e617797.js","sources":["../../src/modules/api.js","../../src/modules/ui.js","../../src/app.js"],"sourcesContent":["// api.js\nconst API_BASE_URL = \"https://api.weatherapi.com/v1/forecast.json\";\nconst API_KEY = \"219a015ee939448aa0f195825231010\"; // Replace with your WeatherAPI API key\n\nexport const fetchData = async (location = \"Toronto\") => {\n    const url = `${API_BASE_URL}?key=${API_KEY}&q=${location}&days=1&aqi=no&alerts=no`;\n\n    try {\n        const response = await fetch(url);\n        const data = await response.json();\n\n        if (data.error) {\n            throw new Error(data.error.message);\n        }\n\n        return data;\n    } catch (error) {\n        console.error(`Error fetching data for ${location}: ${error.message}`);\n        throw error;\n    }\n};\n\nexport const fetchWeeklyForecast = async (location = \"Toronto\") => {\n    const url = `${API_BASE_URL}?key=${API_KEY}&q=${location}&days=7&aqi=no&alerts=no`;\n\n    try {\n        const response = await fetch(url);\n        const data = await response.json();\n\n        if (data.error) {\n            throw new Error(data.error.message);\n        }\n\n        return data.forecast.forecastday;\n    } catch (error) {\n        console.error(`Error fetching weekly forecast data for ${location}: ${error.message}`);\n        throw error;\n    }\n};\n\nexport const processWeatherData = (data) => {\n    const current = data.current;\n    const forecast = data.forecast.forecastday[0]; // Assuming you want data for the first day\n\n    return {\n        location: `${data.location.name}`,\n        temperature: current.temp_c,\n        feelsLike: current.feelslike_c,\n        uv: current.uv,\n        description: current.condition.text,\n        humidity: current.humidity,\n        windSpeed: current.wind_kph,\n        icon: current.condition.icon,\n        daily_chance_of_rain: forecast.day.daily_chance_of_rain,\n        daily_chance_of_snow: forecast.day.daily_chance_of_snow,\n        hourly_forecast: forecast.hour,\n    };\n};\n","// ui.js\n// ui.js\nexport const updateUI = (data) => {\n    document.getElementById(\"location\").textContent = data.location;\n    document.getElementById(\"temperature\").textContent = `${data.temperature}°C`;\n    document.getElementById(\"feelsLikeValue\").textContent = `${data.feelsLike}°C`;\n    document.getElementById(\"uvIndexValue\").textContent = data.uv;\n    document.getElementById(\"description\").textContent = data.description;\n    document.getElementById(\"humidityValue\").textContent = `${data.humidity}%`;\n    document.getElementById(\"windSpeedValue\").textContent = `${data.windSpeed} kph`;\n    document.getElementById(\"icon\").setAttribute(\"src\", data.icon);\n\n    formatDateAndTime();\n    displayHourlyForecast(data.hourly_forecast);\n\n    document.getElementById(\"rainValue\").textContent = `${data.daily_chance_of_rain}%`;\n    document.getElementById(\"snowValue\").textContent = `${data.daily_chance_of_snow}%`;\n};\n\nconst formatDateAndTime = () => {\n    const currentDate = new Date();\n    const optionsForDate = { year: 'numeric', month: 'long', day: 'numeric' };\n    const dateString = currentDate.toLocaleDateString('en-US', optionsForDate);\n\n    let hours = currentDate.getHours();\n    const minutes = currentDate.getMinutes();\n    const ampm = hours >= 12 ? 'pm' : 'am';\n    hours = hours % 12;\n    hours = hours ? hours : 12;\n\n    const timeString = `${hours}:${minutes < 10 ? '0' + minutes : minutes}${ampm}`;\n\n    document.getElementById('currentDate').textContent = dateString;\n    document.getElementById('currentTime').textContent = timeString;\n};\n\nconst displayHourlyForecast = (hourlyForecast) => {\n    const forecastContainer = document.getElementById('hourlyForecast');\n    forecastContainer.innerHTML = '';\n\n    hourlyForecast.forEach((hour) => {\n        const hourElement = document.createElement('div');\n        hourElement.classList.add('hourly-forecast-item');\n\n        // Create an <img> element for the weather icon\n        const iconImg = document.createElement('img');\n        iconImg.setAttribute('src', hour.condition.icon);\n        iconImg.setAttribute('alt', 'Weather Icon');\n\n        // Create a <span> element for time\n        const timeSpan = document.createElement('span');\n        timeSpan.textContent = new Date(hour.time).toLocaleTimeString('en-US', {\n            hour: 'numeric',\n            minute: '2-digit',\n            hour12: true,\n        });\n\n        // Create a <span> element for temperature\n        const temperatureSpan = document.createElement('span');\n        temperatureSpan.textContent = `${hour.temp_c}°C`;\n\n        // Append the icon, time, and temperature to the hourElement\n        hourElement.appendChild(iconImg);\n        hourElement.appendChild(timeSpan);\n        hourElement.appendChild(temperatureSpan);\n\n        forecastContainer.appendChild(hourElement);\n    });\n};\n","import { fetchData, processWeatherData } from './modules/api.js';\nimport { updateUI } from './modules/ui.js';\n\nconst defaultLocation = 'Toronto';\nlet currentPage = 1;\n\n// Add a click event listener to the anchor element\ndocument.getElementById(\"weatherButton\").addEventListener(\"click\", async (event) => {\n    event.preventDefault();\n\n    document.getElementById(\"errorMsg\").style.display = \"none\";\n    document.getElementById(\"loading\").style.display = \"block\";\n\n    const location = document.getElementById(\"locationInput\").value || defaultLocation;\n\n    try {\n        const data = await fetchData(location);\n        const processedData = processWeatherData(data);\n        updateUI(processedData);\n        currentPage = 1; // Reset to the first page when new data is loaded\n    } catch (error) {\n        document.getElementById(\"errorMsg\").innerText = error;\n        document.getElementById(\"errorMsg\").style.display = \"block\";\n    } finally {\n        document.getElementById(\"loading\").style.display = \"none\";\n    }\n});\n\n(async () => {\n    const data = await fetchData(defaultLocation);\n    const processedData = processWeatherData(data);\n    updateUI(processedData);\n})();\n\nconst fetch7DayForecast = async (location) => {\n    try {\n        const response = await fetch(\n            `https://api.weatherapi.com/v1/forecast.json?key=219a015ee939448aa0f195825231010&q=${location}&days=7&aqi=no&alerts=no`\n        );\n        if (!response.ok) {\n            throw new Error('Unable to fetch 7-day forecast data.');\n        }\n        const data = await response.json();\n        return data.forecast.forecastday;\n    } catch (error) {\n        throw error;\n    }\n};\n\nconst update7DayForecast = (forecastData) => {\n    const forecastContainer = document.querySelector('.seven-day-forecast');\n    forecastContainer.innerHTML = '';\n\n    forecastData.forEach((day) => {\n        const forecastElement = document.createElement('div');\n        forecastElement.classList.add('forecast-day');\n\n        const date = new Date(day.date);\n        const dayOfWeek = date.toLocaleDateString('en-US', { weekday: 'long' });\n        const iconUrl = day.day.condition.icon;\n        const maxTemp = day.day.maxtemp_c;\n        const minTemp = day.day.mintemp_c;\n\n        forecastElement.innerHTML = `\n            <div class=\"forecast-day-icon\">\n                <img src=\"${iconUrl}\" alt=\"Weather Icon\">\n            </div>\n            <div class=\"forecast-day-info\">\n                <div class=\"forecast-day-name\">${dayOfWeek}</div>\n                <div class=\"forecast-day-temp\">${maxTemp}°C / ${minTemp}°C</div>\n            </div>\n        `;\n\n        forecastContainer.appendChild(forecastElement);\n    });\n};\n\n(async () => {\n    try {\n        const location = document.getElementById('locationInput').value || defaultLocation;\n        const forecastData = await fetch7DayForecast(location);\n        update7DayForecast(forecastData);\n    } catch (error) {\n        console.error('Error fetching 7-day forecast:', error);\n    }\n})();\n\n// Get the radio buttons and forecast content element\nconst dailyRadio = document.getElementById(\"daily\");\nconst hourlyRadio = document.getElementById(\"hourly\");\nconst forecastContent = document.getElementById(\"forecast-content\");\n\n// Add event listeners to the radio buttons\ndailyRadio.addEventListener(\"change\", () => {\n    forecastContent.classList.remove(\"show-hourly\");\n});\n\nhourlyRadio.addEventListener(\"change\", () => {\n    forecastContent.classList.add(\"show-hourly\");\n});"],"names":["fetchData","async","location","url","response","fetch","data","json","error","Error","message","console","processWeatherData","current","forecast","forecastday","name","temperature","temp_c","feelsLike","feelslike_c","uv","description","condition","text","humidity","windSpeed","wind_kph","icon","daily_chance_of_rain","day","daily_chance_of_snow","hourly_forecast","hour","updateUI","document","getElementById","textContent","setAttribute","formatDateAndTime","displayHourlyForecast","currentDate","Date","dateString","toLocaleDateString","year","month","hours","getHours","minutes","getMinutes","ampm","timeString","hourlyForecast","forecastContainer","innerHTML","forEach","hourElement","createElement","classList","add","iconImg","timeSpan","time","toLocaleTimeString","minute","hour12","temperatureSpan","appendChild","defaultLocation","currentPage","addEventListener","event","preventDefault","style","display","value","processedData","innerText","forecastData","ok","fetch7DayForecast","querySelector","forecastElement","dayOfWeek","date","weekday","iconUrl","maxTemp","maxtemp_c","minTemp","mintemp_c","update7DayForecast","dailyRadio","hourlyRadio","forecastContent","remove"],"mappings":"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"}