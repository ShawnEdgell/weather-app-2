!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const e="219a015ee939448aa0f195825231010";let t=1;const n=()=>localStorage.getItem("defaultLocation")||"Toronto",o=async t=>{const n=`https://api.weatherapi.com/v1/forecast.json?key=${e}&q=${t}&days=1&aqi=no&alerts=no`;try{const e=await fetch(n),t=await e.json();if(t.error)throw new Error(t.error.message);return t}catch(o){throw console.error(`Error fetching data for ${t}: ${o.message}`),o}};document.getElementById("weatherForm").addEventListener("submit",(async e=>{e.preventDefault(),document.getElementById("errorMsg").style.display="none",document.getElementById("loading").style.display="block";const c=document.getElementById("locationInput"),l=c.value.trim();if(!l)return document.getElementById("errorMsg").innerText="Please provide a location.",document.getElementById("errorMsg").style.display="block",void(document.getElementById("loading").style.display="none");try{const e=await o(l),c=d(e);i(c),t=1,n()!==l&&(e=>{localStorage.setItem("defaultLocation",e)})(l);const s=await a(l);r(s),m(l)}catch(s){document.getElementById("errorMsg").innerText=s,document.getElementById("errorMsg").style.display="block"}finally{document.getElementById("loading").style.display="none",c.value=""}})),window.addEventListener("load",(()=>{document.getElementById("locationInput").value="";const e=n();c(e)})),document.getElementById("searchButton").addEventListener("click",(()=>{document.getElementById("locationInput").value=""}));const c=async e=>{if(document.getElementById("errorMsg").style.display="none",document.getElementById("loading").style.display="block",!e)return document.getElementById("errorMsg").innerText="Please provide a location.",document.getElementById("errorMsg").style.display="block",void(document.getElementById("loading").style.display="none");try{const n=await o(e),c=d(n);i(c),t=1;const l=await a(e);r(l),m(e)}catch(n){document.getElementById("errorMsg").innerText=n,document.getElementById("errorMsg").style.display="block"}finally{document.getElementById("loading").style.display="none",document.getElementById("locationInput").value=""}};document.getElementById("searchButton").addEventListener("click",(()=>{document.getElementById("locationInput").value=""}));const a=async t=>{try{const n=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=${e}&q=${t}&days=7&aqi=no&alerts=no`);if(!n.ok)throw new Error("Unable to fetch 7-day forecast data.");return(await n.json()).forecast.forecastday}catch(n){throw n}},r=e=>{const t=document.querySelector(".seven-day-forecast");t.innerHTML="",e.forEach((e=>{const n=document.createElement("div");n.classList.add("forecast-day");const o=new Date(e.date).toLocaleDateString("en-US",{weekday:"short"}),c=e.day.condition.icon,a=Math.round(e.day.maxtemp_c),r=Math.round(e.day.mintemp_c);n.innerHTML=`\n            <div class="day-name">${o}</div>\n            <div class="forecast-day-icon">\n            <img src="${c}" alt="Weather Icon">\n            <div class="high-temperature">${a}°C</div>\n            <div class="low-temperature">${r}°C</div>\n            </div>\n        `,t.appendChild(n)}))},d=e=>{const t=e.current,n=e.forecast.forecastday[0];return{location:`${e.location.name}`,temperature:t.temp_c,feelsLike:t.feelslike_c,uv:t.uv,description:t.condition.text,humidity:t.humidity,windSpeed:t.wind_kph,icon:t.condition.icon,daily_chance_of_rain:n.day.daily_chance_of_rain,daily_chance_of_snow:n.day.daily_chance_of_snow,hourly_forecast:n.hour}},i=e=>{document.getElementById("location").textContent=e.location,document.getElementById("temperature").textContent=`${Math.round(e.temperature)}°C`,document.getElementById("feelsLikeValue").textContent=`${Math.round(e.feelsLike)}°C`,document.getElementById("uvIndexValue").textContent=e.uv,document.getElementById("description").textContent=e.description,document.getElementById("humidityValue").textContent=`${e.humidity}%`,document.getElementById("windSpeedValue").textContent=`${e.windSpeed} kph`,document.getElementById("icon").setAttribute("src",e.icon),l(),s(e.hourly_forecast),document.getElementById("rainValue").textContent=`${e.daily_chance_of_rain}%`,document.getElementById("snowValue").textContent=`${e.daily_chance_of_snow}%`},l=()=>{const e=new Date,t=e.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});let n=e.getHours();const o=e.getMinutes(),c=n>=12?"pm":"am";n%=12,n=n||12;const a=`${n}:${o<10?"0"+o:o}${c}`;document.getElementById("currentDate").textContent=`currentDate: ${t}`,document.getElementById("currentTime").textContent=`currentTime: ${a}`},s=e=>{const t=document.getElementById("hourlyForecast");t.innerHTML="";const n=new Date,o=n.getHours(),c=n.getMinutes();let a=o+1;c<1&&(a=o),e.forEach((e=>{const n=1e3*e.time_epoch,o=new Date(n).getHours();if(o>=a){const n=document.createElement("div");n.classList.add("hourly-forecast-item");const c=document.createElement("img");c.setAttribute("src",e.condition.icon),c.setAttribute("alt","Weather Icon");const r=`${o%12}:00 ${o>=12?"PM":"AM"}`,d=document.createElement("span");d.textContent=r;const i=document.createElement("span");i.textContent=`${e.temp_c}°C`,n.appendChild(c),n.appendChild(d),n.appendChild(i),t.appendChild(n),a++}}))};document.getElementById("forecast-content");const m=t=>{fetch(`https://api.weatherapi.com/v1/current.json?key=${e}&q=${t}`).then((e=>e.json())).then((e=>{const t=new Date(e.location.localtime),n=t.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});let o=t.getHours();const c=t.getMinutes(),a=o>=12?"pm":"am";o%=12,o=o||12;const r=`${o}:${c<10?"0"+c:c} ${a}`;document.getElementById("currentDate").textContent=`${n}`,document.getElementById("currentTime").textContent=`${r}`})).catch((e=>{console.error(`Error fetching date and time data for ${t}: ${e.message}`)}))};
//# sourceMappingURL=index-91a0e39f.js.map
