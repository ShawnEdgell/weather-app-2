{"version":3,"file":"index-908a4b7d.js","sources":["../../src/modules/api.js","../../src/modules/ui.js","../../src/app.js"],"sourcesContent":["// api.js\nconst API_BASE_URL = \"https://api.weatherapi.com/v1/forecast.json\";\nconst API_KEY = \"219a015ee939448aa0f195825231010\"; // Replace with your WeatherAPI API key\n\nexport const fetchData = async (location = \"Toronto\") => {\n    const url = `${API_BASE_URL}?key=${API_KEY}&q=${location}&days=1&aqi=no&alerts=no`;\n\n    try {\n        const response = await fetch(url);\n        const data = await response.json();\n\n        if (data.error) {\n            throw new Error(data.error.message);\n        }\n\n        return data;\n    } catch (error) {\n        console.error(`Error fetching data for ${location}: ${error.message}`);\n        throw error;\n    }\n};\n\nexport const fetchWeeklyForecast = async (location = \"Toronto\") => {\n    const url = `${API_BASE_URL}?key=${API_KEY}&q=${location}&days=7&aqi=no&alerts=no`;\n\n    try {\n        const response = await fetch(url);\n        const data = await response.json();\n\n        if (data.error) {\n            throw new Error(data.error.message);\n        }\n\n        return data.forecast.forecastday;\n    } catch (error) {\n        console.error(`Error fetching weekly forecast data for ${location}: ${error.message}`);\n        throw error;\n    }\n};\n\nexport const processWeatherData = (data) => {\n    const current = data.current;\n    const forecast = data.forecast.forecastday[0]; // Assuming you want data for the first day\n\n    return {\n        location: `${data.location.name}, ${data.location.region}, ${data.location.country}`,\n        temperature: current.temp_c,\n        feelsLike: current.feelslike_c,\n        uv: current.uv,\n        description: current.condition.text,\n        humidity: current.humidity,\n        windSpeed: current.wind_kph,\n        icon: current.condition.icon,\n        daily_chance_of_rain: forecast.day.daily_chance_of_rain,\n        daily_chance_of_snow: forecast.day.daily_chance_of_snow,\n        hourly_forecast: forecast.hour,\n    };\n};\n","// ui.js\nexport const updateUI = (data) => {\n    document.getElementById(\"location\").textContent = data.location;\n    document.getElementById(\"temperature\").textContent = `${data.temperature}°C`;\n    document.getElementById(\"feelsLike\").textContent = `Feels like: ${data.feelsLike}°C`;\n    document.getElementById(\"uvIndex\").textContent = `UV Index: ${data.uv}`;\n    document.getElementById(\"description\").textContent = data.description;\n    document.getElementById(\"humidity\").textContent = `Humidity: ${data.humidity}%`;\n    document.getElementById(\"windSpeed\").textContent = `Wind speed: ${data.windSpeed} kph`;\n    document.getElementById(\"icon\").setAttribute(\"src\", data.icon);\n\n    formatDateAndTime();\n    displayHourlyForecast(data.hourly_forecast);\n\n    const chanceOfRain = data.daily_chance_of_rain;\n    const chanceOfSnow = data.daily_chance_of_snow;\n\n    document.getElementById(\"chanceOfRain\").textContent = `Chance of Rain: ${chanceOfRain}%`;\n    document.getElementById(\"chanceOfSnow\").textContent = `Chance of Snow: ${chanceOfSnow}%`;\n};\n\nconst formatDateAndTime = () => {\n    const currentDate = new Date();\n    const optionsForDate = { year: 'numeric', month: 'long', day: 'numeric' };\n    const dateString = currentDate.toLocaleDateString('en-US', optionsForDate);\n\n    let hours = currentDate.getHours();\n    const minutes = currentDate.getMinutes();\n    const ampm = hours >= 12 ? 'pm' : 'am';\n    hours = hours % 12;\n    hours = hours ? hours : 12;\n\n    const timeString = `${hours}:${minutes < 10 ? '0' + minutes : minutes}${ampm}`;\n\n    document.getElementById('currentDate').textContent = dateString;\n    document.getElementById('currentTime').textContent = timeString;\n};\n\nconst displayHourlyForecast = (hourlyForecast) => {\n    const forecastContainer = document.getElementById('hourlyForecast');\n    forecastContainer.innerHTML = '';\n\n    hourlyForecast.forEach((hour) => {\n        const hourElement = document.createElement('div');\n        hourElement.classList.add('hourly-forecast-item');\n\n        // Create an <img> element for the weather icon\n        const iconImg = document.createElement('img');\n        iconImg.setAttribute('src', hour.condition.icon);\n        iconImg.setAttribute('alt', 'Weather Icon');\n\n        // Create a <span> element for time\n        const timeSpan = document.createElement('span');\n        timeSpan.textContent = new Date(hour.time).toLocaleTimeString('en-US', {\n            hour: 'numeric',\n            minute: '2-digit',\n            hour12: true,\n        });\n\n        // Create a <span> element for temperature\n        const temperatureSpan = document.createElement('span');\n        temperatureSpan.textContent = `${hour.temp_c}°C`;\n\n        // Append the icon, time, and temperature to the hourElement\n        hourElement.appendChild(iconImg);\n        hourElement.appendChild(timeSpan);\n        hourElement.appendChild(temperatureSpan);\n\n        forecastContainer.appendChild(hourElement);\n    });\n};\n","import { fetchData, processWeatherData } from './modules/api.js';\nimport { updateUI } from './modules/ui.js';\n\nconst defaultLocation = 'Toronto';\nlet currentPage = 1;\n\nfunction nextCarouselPage() {\n    const hourlyForecast = document.getElementById(\"hourlyForecast\");\n    const numberOfPages = Math.ceil(hourlyForecast.children.length / 8);\n\n    if (currentPage < numberOfPages) {\n        currentPage++;\n        updateCarousel();\n    }\n}\n\nfunction prevCarouselPage() {\n    if (currentPage > 1) {\n        currentPage--;\n        updateCarousel();\n    }\n}\n\nfunction updateCarousel() {\n    const hourlyForecast = document.getElementById(\"hourlyForecast\");\n    const itemsPerPage = 8;\n    const startIndex = (currentPage - 1) * itemsPerPage;\n    const endIndex = startIndex + itemsPerPage;\n\n    const items = hourlyForecast.getElementsByClassName(\"hourly-forecast-item\");\n    for (let i = 0; i < items.length; i++) {\n        items[i].style.display = \"none\";\n    }\n\n    for (let i = startIndex; i < endIndex && i < items.length; i++) {\n        items[i].style.display = \"block\";\n    }\n}\n\ndocument.getElementById(\"weatherForm\").addEventListener(\"submit\", async (event) => {\n    event.preventDefault();\n\n    document.getElementById(\"errorMsg\").style.display = \"none\";\n    document.getElementById(\"loading\").style.display = \"block\";\n\n    const location = document.getElementById(\"locationInput\").value || defaultLocation;\n\n    try {\n        const data = await fetchData(location);\n        const processedData = processWeatherData(data);\n        updateUI(processedData);\n    } catch (error) {\n        document.getElementById(\"errorMsg\").innerText = error;\n        document.getElementById(\"errorMsg\").style.display = \"block\";\n    } finally {\n        document.getElementById(\"loading\").style.display = \"none\";\n    }\n});\n\n(async () => {\n    const data = await fetchData(defaultLocation);\n    const processedData = processWeatherData(data);\n    updateUI(processedData);\n})();\n\ndocument.querySelector(\".prev-button\").addEventListener(\"click\", () => {\n    prevCarouselPage();\n});\n\ndocument.querySelector(\".next-button\").addEventListener(\"click\", () => {\n    nextCarouselPage();\n});\n\nconst fetch7DayForecast = async (location) => {\n    try {\n        const response = await fetch(\n            `http://api.weatherapi.com/v1/forecast.json?key=219a015ee939448aa0f195825231010&q=${location}&days=7&aqi=no&alerts=no`\n        );\n        if (!response.ok) {\n            throw new Error('Unable to fetch 7-day forecast data.');\n        }\n        const data = await response.json();\n        return data.forecast.forecastday;\n    } catch (error) {\n        throw error;\n    }\n};\n\nconst update7DayForecast = (forecastData) => {\n    const forecastContainer = document.querySelector('.seven-day-forecast');\n    forecastContainer.innerHTML = '';\n\n    forecastData.forEach((day) => {\n        const forecastElement = document.createElement('div');\n        forecastElement.classList.add('forecast-day');\n\n        const date = new Date(day.date);\n        const dayOfWeek = date.toLocaleDateString('en-US', { weekday: 'long' });\n        const iconUrl = day.day.condition.icon;\n        const maxTemp = day.day.maxtemp_c;\n        const minTemp = day.day.mintemp_c;\n\n        forecastElement.innerHTML = `\n            <div class=\"forecast-day-icon\">\n                <img src=\"${iconUrl}\" alt=\"Weather Icon\">\n            </div>\n            <div class=\"forecast-day-info\">\n                <div class=\"forecast-day-name\">${dayOfWeek}</div>\n                <div class=\"forecast-day-temp\">${maxTemp}°C / ${minTemp}°C</div>\n            </div>\n        `;\n\n        forecastContainer.appendChild(forecastElement);\n    });\n};\n\n(async () => {\n    try {\n        const location = document.getElementById('locationInput').value || defaultLocation;\n        const forecastData = await fetch7DayForecast(location);\n        update7DayForecast(forecastData);\n    } catch (error) {\n        console.error('Error fetching 7-day forecast:', error);\n    }\n})();\n"],"names":["fetchData","async","location","url","response","fetch","data","json","error","Error","message","console","processWeatherData","current","forecast","forecastday","name","region","country","temperature","temp_c","feelsLike","feelslike_c","uv","description","condition","text","humidity","windSpeed","wind_kph","icon","daily_chance_of_rain","day","daily_chance_of_snow","hourly_forecast","hour","updateUI","document","getElementById","textContent","setAttribute","formatDateAndTime","displayHourlyForecast","chanceOfRain","chanceOfSnow","currentDate","Date","dateString","toLocaleDateString","year","month","hours","getHours","minutes","getMinutes","ampm","timeString","hourlyForecast","forecastContainer","innerHTML","forEach","hourElement","createElement","classList","add","iconImg","timeSpan","time","toLocaleTimeString","minute","hour12","temperatureSpan","appendChild","defaultLocation","currentPage","updateCarousel","startIndex","endIndex","items","getElementsByClassName","i","length","style","display","addEventListener","event","preventDefault","value","processedData","innerText","querySelector","numberOfPages","Math","ceil","children","nextCarouselPage","forecastData","ok","fetch7DayForecast","forecastElement","dayOfWeek","date","weekday","iconUrl","maxTemp","maxtemp_c","minTemp","mintemp_c","update7DayForecast"],"mappings":"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"}